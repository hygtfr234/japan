<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-title" content="è³œåœ‹ç©å››åœ‹">
    <title>è³œåœ‹ç©å››åœ‹_Ssukuo in Shikoku</title>
    
    <!-- ğŸ„ APP åœ–ç¤º (Base64 å…§å»ºç‰ˆ) -->
    <link rel="icon" type="image/png" href="data:image/png;base64,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njx59MSJE0dPnDhxlO//6NGjR48ePXqU7//YsWNHjx07dpT44IMP2jo7Ozva2to6X3rppcuXL1++fOXKlctXrly5fOXKlctXrlzpfPXVVzv7+/s7hoaGOkZGRjqnp6c7Z2ZmNG9iYkLzExMTmj8xMaH509PTnSMjIx1DQ0MdAwMDHf39/R3d3d0dLS0tnS+99FLbhx9+2Pzhhx82f/jhh80ffvhh84cfftj8wQcfNH/wwQfNH3zwwbm2traOnp6ejv7+/o6BgYGOoaGhjpGRkc7p6enOmZkZzZuYmND8xMSE5k9MTGj+9PR058jISMfQ0FDHwMBAx3PPPdfe1tbWeenSpbby8vKKkpKSjSUlJRtLS0s3lpaWbiwtLd1YWlq60cbv3Lmz4sCBAxV1dXUV9fX1Ffv376+oq6ur2Lt3b8XOnTsrtm3bVrF9+/aK7du3V+zYsWNjWVnZxpKSko2lpaUbS0tLN5aWlm4sLS3dWFJSUlFeXt5WW1vb0dXV1dHT09PR39/fMTAw0DE0NNQxMjLSOd073TkzM6N5ExMTmp+YmND8xMSE5k9PT3eOjIx0DA0NdQwMDHT09/d3PPfcc21VVVUbeXJ5eXlFeXl5RXl5eUV5eXlFWVlZRUVFRUVlZWVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFeXl5RVlZWUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVlZWVFWVlZRVlZWUV5eXlFeXl5RUVFRUVlZWVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUV5eXlFWVlZRXl5eUV5eXlFeXl5RUVFRUVlZWVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUV5eXlFWVlZRXl5eUV5eXlFeXl5RUVFRUVlZWVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUV5eXlFWVlZRXl5eUV5eXlFWVlZRVlZWUVZWVlFWVlZRVlZWUVZWVlFWVlZRVlZWUVZWVlFWVlZRVlZWUVZWVlFWVlZRVlZWUVZWVlFWVlZRXl5eUV5eXlFeXl5RUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUV5eXlFWVlZFWVlZRVlZ2f8B3y+gCz7n6AYAAAAASUVORK5CYII=">
    <link rel="apple-touch-icon" href="data:image/png;base64,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V+zYsWNjWVnZxpKSko2lpaUbS0tLN5aWlm4sLS3dWFJSUlFeXt5WW1vb0dXV1dHT09PR39/fMTAw0DE0NNQxMjLSOd073TkzM6N5ExMTmp+YmND8xMSE5k9PT3eOjIx0DA0NdQwMDHT09/d3PPfcc21VVVUbeXJ5eXlFeXl5RXl5eUV5eXlFWVlZRUVFRUVlZWVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFeXl5RVlZWUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVlZWVFWVlZRVlZWUV5eXlFeXl5RUVFRUVlZWVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUV5eXlFWVlZRXl5eUV5eXlFeXl5RUVFRUVlZWVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUV5eXlFWVlZRXl5eUV5eXlFeXl5RUVFRUVlZWVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUV5eXlFWVlZRXl5eUV5eXlFWVlZRVlZWUVZWVlFWVlZRVlZWUVZWVlFWVlZRVlZWUVZWVlFWVlZRVlZWUVZWVlFWVlZRVlZWUVZWVlFWVlZRXl5eUV5eXlFeXl5RUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUV5eXlFWVlZFWVlZRVlZ2f8B3y+gCz7n6AYAAAAASUVORK5CYII=">

    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;900&family=Noto+Serif+TC:wght@900&display=swap" rel="stylesheet">
    <style>
        :root { --maple-bg: #87CEEB; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: 'M PLUS Rounded 1c', sans-serif;
            background-color: var(--maple-bg);
            background-image: url('https://i.pinimg.com/originals/1e/86/82/1e8682d029094054a138c2084c83091e.jpg');
            background-size: cover; background-attachment: fixed; background-position: center bottom;
            margin: 0; padding: 8px; color: #333; padding-bottom: 80px; overflow-x: hidden;
        }

        .quest-window {
            max-width: 600px; margin: 5px auto; background: #FFF;
            border: 3px solid #8B4513; border-radius: 12px;
            box-shadow: 0 0 0 4px #DAA520, 0 10px 20px rgba(0,0,0,0.5); 
            overflow: hidden; position: relative; z-index: 10;
        }

        .window-header {
            background: linear-gradient(to bottom, #4b6cb7, #182848);
            padding: 10px 15px; color: white; display: flex; justify-content: space-between; align-items: center;
            border-bottom: 4px solid #DAA520;
        }

        .header-icon {
            width: 40px; height: 40px; object-fit: contain; margin-right: 10px;
            filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.5)); animation: bounce 2s infinite;
        }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }

        /* Tabs */
        .tabs { display: flex; width: 100%; background: #6D4C41; border-bottom: 2px solid #3E2723; }
        .tab-btn {
            flex: 1; background: linear-gradient(to bottom, #8D6E63, #5D4037);
            border-right: 1px solid #4E342E; border-bottom: none; padding: 10px 0; cursor: pointer;
            font-weight: 800; color: #DDD; font-size: 16px; text-align: center;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-shadow: 1px 1px 0 #000;
        }
        .tab-btn:last-child { border-right: none; }
        .tab-btn.active { background: #FFF; color: #3E2723; text-shadow: none; box-shadow: inset 0 -4px 0 #FFCC00; }
        .tab-sub { font-size: 11px; font-weight: normal; color: #AAA; margin-top: 2px; }
        .tab-btn.active .tab-sub { color: #555; font-weight: bold; }

        .content-area { background: #FFF; padding: 15px; min-height: 480px; position: relative; }

        /* å¤©æ°£é¢æ¿ */
        .weather-panel {
            background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
            border: 2px solid #1E88E5; border-radius: 12px; padding: 12px; margin-bottom: 15px;
            display: flex; align-items: center; justify-content: space-between; box-shadow: 3px 3px 0 rgba(0,0,0,0.1);
        }
        .weather-left { display: flex; flex-direction: column; }
        .weather-loc { font-size: 15px; font-weight: 900; color: #1565C0; margin-bottom: 2px; }
        .weather-status { font-size: 14px; font-weight: bold; color: #333; }
        .weather-detail { font-size: 12px; color: #555; margin-top: 2px; font-weight: bold;}
        .weather-right { text-align: right; display: flex; flex-direction: column; align-items: center; }
        .weather-icon-img { width: 45px; height: 45px; object-fit: contain; filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.1)); }
        .weather-temp { font-size: 28px; color: #D84315; font-weight: 900; line-height: 1; margin-top: 5px; }

        /* å°èˆªæŒ‰éˆ• (å›å®¶å·è»¸é¢¨æ ¼) */
        .btn-nav { 
            flex: 1; background: linear-gradient(to bottom, #FFF3E0, #FFE0B2); padding: 10px; 
            border: 1px solid #FF9800; box-shadow: 0 4px 0 #E65100; text-shadow: 0 1px 0 rgba(255,255,255,0.5);
            text-decoration: none; color: #E65100; display: flex; align-items: center; justify-content: center;
            border-radius: 8px; font-weight: bold; font-size: 15px;
        }
        .btn-nav:active { box-shadow: 0 0 0 #E65100; transform: translateY(4px); }
        
        /* é£¯åº—æŒ‰éˆ• */
        .btn-hotel { 
            width:100%; background: linear-gradient(to bottom, #ff758c, #ff7eb3); font-size: 20px; padding: 15px; margin-top: 10px; 
            border-radius: 8px; color: white; text-decoration: none; font-weight: bold; display: block; text-align: center; 
            border: 1px solid #C2185B; box-shadow: 0 4px 0 #880E4F; text-shadow: 0 1px 1px rgba(0,0,0,0.3);
        }
        .btn-hotel:active { box-shadow: 0 0 0 #880E4F; transform: translateY(4px); }
        
        .action-btns { display: flex; gap: 8px; margin-top: 10px; }

        /* è¡Œç¨‹åˆ—è¡¨ */
        .quest-list { list-style: none; padding: 0; margin: 0; }
        .quest-item { border-bottom: 2px dashed #D7CCC8; padding: 15px 0; }
        .quest-item:last-child { border-bottom: none; }
        .quest-header { display: flex; align-items: center; margin-bottom: 8px; }
        .quest-time {
            background: #3E2723; color: #FFD54F; padding: 3px 8px; border-radius: 4px;
            font-size: 14px; font-weight: bold; margin-right: 10px; min-width: 60px; text-align: center;
            border: 1px solid #FFECB3;
        }
        .quest-title { font-size: 18px; font-weight: 800; color: #5D4037; display: flex; align-items: center; }
        .quest-desc { font-size: 15px; color: #555; margin: 0 0 12px 0; line-height: 1.4; padding-left: 2px; }
        
        .event-icon-img { 
            width: 35px; height: 35px; margin-left: 8px; 
            object-fit: contain; vertical-align: middle; 
            display: inline-block; filter: drop-shadow(1px 1px 0 rgba(0,0,0,0.2));
        }
        .plane-icon { width: 35px; height: 35px; margin-left: 8px; vertical-align: middle; filter: drop-shadow(1px 1px 0 rgba(0,0,0,0.2)); }

        /* åº•éƒ¨ Bar (EXP / Guild) */
        .footer-bar-container {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 35px;
            background: #2b2b2b; border-top: 2px solid #FFD700;
            display: flex; align-items: center; padding: 0 15px; z-index: 999;
        }
        /* EXP Bar æ¨£å¼ */
        .exp-track { flex: 1; height: 12px; background: #111; border-radius: 8px; overflow: hidden; border: 1px solid #555; }
        .exp-fill { height: 100%; background: linear-gradient(to bottom, #00FF00, #00CC00); width: 99.99%; }
        .exp-text { color: #FFF; font-size: 12px; margin-left: 10px; font-family: monospace; white-space: nowrap; }
        
        /* å…¬æœƒå»£æ’­æ¨£å¼ (å½©è™¹è·‘é¦¬ç‡ˆ) */
        .guild-marquee {
            width: 100%; font-weight: bold; font-size: 14px;
            display: flex; align-items: center; justify-content: center;
            text-shadow: 1px 1px 0 #000; 
            animation: rainbow 2s linear infinite;
        }
        @keyframes rainbow { 
            0% { color: #ff0000; } 15% { color: #ff7f00; } 30% { color: #ffff00; } 
            45% { color: #00ff00; } 60% { color: #0000ff; } 75% { color: #4b0082; } 100% { color: #9400d3; }
        }

        /* NPC å°è©±æ¡† */
        .npc-dialog {
            background: #FFF8DC; border: 2px solid #DAA520; border-radius: 12px;
            padding: 15px 15px 15px 65px; position: relative; margin-top: 25px;
            font-size: 14px; line-height: 1.6; color: #4A3B2A; box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
        }
        .npc-dialog::before {
            content: ''; width: 50px; height: 50px;
            background-image: url('https://maplestory.io/api/gms/62/mob/1210102/render/move?center=true');
            background-size: contain; background-repeat: no-repeat;
            position: absolute; left: 8px; top: 50%; transform: translateY(-50%);
        }

        .sub-nav-container { display: flex; gap: 10px; margin-bottom: 20px; background: #EEE; padding: 5px; border-radius: 8px; }
        .sub-nav-btn { flex: 1; padding: 10px; border: 2px solid transparent; border-radius: 6px; font-weight: bold; cursor: pointer; background: #CCC; color: #555; }
        .sub-nav-btn.active-main { background: #FFF; border-color: #FFCC00; color: #333; }
        .sub-nav-btn.active-backup { background: #E6E6FA; border-color: #9370DB; color: #4B0082; }

        /* INFO é é¢å°ˆå±¬ */
        .papulatus-wrapper {
            position: relative; text-align: center; margin-top: 20px; height: 220px;
        }
        .haidilao-text {
            font-family: 'Noto Serif TC', serif; font-size: 32px; font-weight: 900; color: #d32f2f;
            text-shadow: 2px 2px 0 #FFF, -1px -1px 0 #FFF;
            position: absolute; top: 0; left: 50%; transform: translateX(-50%); z-index: 5;
        }
        .papulatus-img {
            width: 120px; position: absolute; top: 45px; left: 50%; transform: translateX(-50%);
            animation: float 3s ease-in-out infinite; z-index: 2;
        }
        .drop-item {
            width: 45px; height: 45px; position: absolute; animation: bounceDrop 2s infinite; filter: drop-shadow(0 0 5px yellow); z-index: 3;
        }
        /* å¯¶ç‰©ä½ç½®èª¿æ•´ */
        .drop-1 { top: 90px; left: 5%; animation-delay: 0s; }
        .drop-2 { top: 70px; right: 5%; animation-delay: 0.5s; }
        .drop-3 { top: 150px; right: 20%; animation-delay: 1s; } 

        @keyframes float { 0%, 100% { top: 45px; } 50% { top: 35px; } }
        @keyframes bounceDrop { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }

        .chat-log {
            background: rgba(0,0,0,0.8); border-radius: 4px; padding: 10px;
            font-size: 14px; text-align: left; margin: 15px auto; width: 98%;
            font-family: 'Arial', sans-serif; line-height: 1.6;
        }
        .chat-line { color: #EE82EE; font-weight: bold; word-wrap: break-word; }
        .chat-guild { color: #00FF00; font-weight: bold; margin-top: 2px; }

        .snowflake {
            position: fixed; top: -10px; z-index: 9999; color: #FFF; font-size: 1em; opacity: 0.9;
            user-select: none; pointer-events: none; animation: fall linear infinite; text-shadow: 0 0 2px #000;
        }
        @keyframes fall { 0% { transform: translateY(-10vh) translateX(0); } 100% { transform: translateY(110vh) translateX(20px); } }
        .snow-container { display: none; }

    </style>
</head>
<body>

<div class="quest-window">
    <div class="window-header">
        <div style="display:flex; align-items:center;">
            <img src="https://maplestory.io/api/gms/62/mob/1210100/render/move?center=true" class="header-icon" alt="icon">
            <div style="font-size:18px; text-shadow:1px 1px 0 #000;">ğŸ è³œåœ‹ç©å››åœ‹</div>
        </div>
        <div style="font-size:12px; background:rgba(0,0,0,0.3); padding:2px 6px; border-radius:4px;">LV.2026 æ—¥æœ¬å››åœ‹åˆå¿ƒè€…</div>
    </div>

    <div class="tabs">
        <div class="tab-btn active" onclick="loadDay(1)">D1<span class="tab-sub">é«˜æ¾</span></div>
        <div class="tab-btn" onclick="loadDay(2)">D2<span class="tab-sub">å°è±†å³¶</span></div>
        <div class="tab-btn" onclick="loadDay(3)">D3<span class="tab-sub">é‡‘åˆ€æ¯”ç¾…</span></div>
        <div class="tab-btn" onclick="loadDay(4)">D4<span class="tab-sub">å€‰æ•·</span></div>
        <div class="tab-btn" onclick="loadDay(5)">D5<span class="tab-sub">è¿”ç¨‹</span></div>
        <div class="tab-btn" onclick="loadDay('info')">INFO<span class="tab-sub">ä½å®¿</span></div>
    </div>

    <div class="content-area" id="mainContent"></div>
</div>

<!-- åº•éƒ¨ Bar -->
<div class="footer-bar-container" id="footerBar">
    <!-- é è¨­ EXP æ¢ -->
    <span style="color:#FFCC00; font-weight:900; margin-right:10px;">EXP</span>
    <div class="exp-track"><div class="exp-fill" id="expFill"></div></div>
    <span class="exp-text">Next Level: 2027 (99.99%)</span>
</div>

<div id="snowContainer" class="snow-container"></div>

<script>
    // =========================================================
    // ğŸ¨ åœ–ç¤ºåº«
    // =========================================================
    
    // ä¸€èˆ¬é£›æ©Ÿ icon (Flaticon)
    const PLANE_ICON = "https://cdn-icons-png.flaticon.com/512/223/223467.png";

    // æ¥“ä¹‹è°·åœ–ç¤º (Maplestory.io)
    // å°èˆªåœ–ç¤ºï¼šå…¨éƒ¨æ”¹æˆå›å®¶å·è»¸ (2030000)
    const RETURN_SCROLL = "https://maplestory.io/api/gms/62/item/2030000/icon"; 

    // è¡Œç¨‹é¡åˆ¥åœ–ç¤º
    const CAR_MOUNT = "https://maplestory.io/api/gms/62/item/1902000/icon"; 
    const BENTO = "https://maplestory.io/api/gms/62/item/2022000/icon"; 
    const TREE_BRANCH = "https://maplestory.io/api/gms/62/item/4000003/icon"; 
    const GOLD_LEAF = "https://maplestory.io/api/gms/62/item/4001126/icon"; 
    const ICE_CREAM = "https://maplestory.io/api/gms/62/item/2020025/icon"; 
    const SHOP_BAG = "https://maplestory.io/api/gms/62/item/4031138/icon"; 
    const FISH_ITEM = "https://maplestory.io/api/gms/62/item/4000259/icon"; 
    const PET_FOOD = "https://maplestory.io/api/gms/62/item/2120000/icon"; 
    const BOAT_ICON = "https://cdn-icons-png.flaticon.com/512/2942/2942544.png"; 
    const COFFEE = "https://maplestory.io/api/gms/62/item/2020016/icon";
    const TAKOYAKI = "https://maplestory.io/api/gms/62/item/2022001/icon";
    const RAMEN = "https://maplestory.io/api/gms/62/item/2022039/icon";
    const SAKURA = "https://maplestory.io/api/gms/62/item/4000283/icon";
    const DOLPHIN = "https://maplestory.io/api/gms/62/item/5000049/icon"; 

    // æ‹‰åœ–æ–¯æ‰è½ç‰© (ç¶“å…¸å¯¶ç‰©)
    const CHAOS_SCROLL = "https://maplestory.io/api/gms/62/item/2049100/icon"; // æ··æ²Œå·è»¸
    const ZAKUM_HELM = "https://maplestory.io/api/gms/62/item/1002357/icon"; // ç‚é­”é ­ç›”
    const ILBI_STAR = "https://maplestory.io/api/gms/62/item/2070006/icon"; // æ—¥ä¹‹é¢

    // å¤©æ°£åœ–ç¤º
    const WEATHER_SUN = "https://maplestory.io/api/gms/62/item/4000038/icon"; 
    const WEATHER_CLOUD = "https://maplestory.io/api/gms/62/item/4031579/icon"; 
    const WEATHER_RAIN = "https://maplestory.io/api/gms/62/item/4000004/icon"; 
    const WEATHER_SNOW = "https://maplestory.io/api/gms/62/item/4000073/icon"; 
    const WEATHER_MIX = "https://maplestory.io/api/gms/62/item/2010009/icon"; 

    const ICONS = {
        plane: PLANE_ICON, boat: BOAT_ICON, car: CAR_MOUNT, food: BENTO,
        sight: TREE_BRANCH, shrine: GOLD_LEAF, ice: ICE_CREAM, shop: SHOP_BAG,
        fish: FISH_ITEM, cat: PET_FOOD, coffee: COFFEE, dinner: TAKOYAKI, 
        noodle: RAMEN, sakura: SAKURA, dolphin: DOLPHIN,
        // æ‰€æœ‰å°èˆªçµ±ä¸€ä½¿ç”¨å›å®¶å·è»¸
        nav: RETURN_SCROLL
    };

    // =========================================================
    // ğŸ“… è¡Œç¨‹è³‡æ–™ (V30.0 - å°èˆªå°ˆç”¨ç‰ˆ)
    // =========================================================
    const itinerary = {
        1: {
            title: "Day 1ï½œæŠµé”é«˜æ¾",
            date: "1/23 (äº”)", location: "Takamatsu",
            weather: { temp: "7Â°", status: "é™°", detail: "H:7Â° L:1Â°", icon: WEATHER_CLOUD },
            events: [
                { time: "07:00", title: "CI278 æ¡ƒåœ’èµ·é£›", desc: "å‰å¾€é«˜æ¾ï¼Œå†’éšªé–‹å§‹ï¼", icon: 'plane', noNav: true },
                // Toyota é€£çµæ›´æ–°
                { time: "10:20", title: "æŠµé”é«˜æ¾ç©ºæ¸¯", desc: "å…¥å¢ƒã€å‰å¾€ Toyota ç§Ÿè»Š", icon: 'car', navLink: "https://maps.app.goo.gl/nuF1de38tVXAUcE97" },
                // æ¶®ä¹ƒè‘‰é€£çµæ›´æ–°
                { time: "12:00", title: "ç§Ÿè»Š & åˆé¤", desc: "æ¶®ä¹ƒè‘‰", icon: 'food', navLink: "https://maps.app.goo.gl/KdNuojGtmtbTNwVn7" },
                // æ —æ—å…¬åœ’
                { time: "13:30", title: "æ —æ—å…¬åœ’", desc: "ç±³å…¶æ—ä¸‰æ˜Ÿåº­åœ’ (2H)", icon: 'sight', navLink: "https://maps.app.goo.gl/7RyaPV2mX3qwtdCF6" },
                // å•†åº—è¡—é€£çµæ›´æ–°
                { time: "17:30", title: "å•†åº—è¡—æ•£æ­¥", desc: "å…«å¤§æ¢å•†åº—è¡—è‡ªç”±é€›", icon: 'shop', navLink: "https://maps.app.goo.gl/WtpDx59qEmA7GaCD6" },
                // Vent Buffet é€£çµæ›´æ–°
                { time: "18:30", title: "Vent Buffet", desc: "æ™šé¤æ™‚å…‰", icon: 'dinner', navLink: "https://maps.app.goo.gl/Kyw7DE3dBXLbcfbr5" }
            ],
            note: "å°å¿ƒé§•é§›!é€™è£¡ç¦æ­¢è³½æ©æ”¾R"
        },
        2: {
            title: "Day 2ï½œå°è±†å³¶",
            date: "1/24 (å…­)", location: "Takamatsu",
            weather: { temp: "8Â°", status: "é›ª/æ™´", detail: "H:8Â° L:2Â°", icon: WEATHER_MIX },
            events: [
                // é«˜æ¾æ¸¯ -> åœŸåº„æ¸¯ é€£çµæ›´æ–°
                { time: "08:00", title: "é«˜æ¾æ¸¯ â†’ åœŸåº„æ¸¯", desc: "æ­ä¹˜æ¸¡è¼ª (ç´„1H)", icon: 'boat', navLink: "https://maps.app.goo.gl/3197KYMnoQUJgDnC9" },
                // æ©„æ¬–å…¬åœ’é€£çµæ›´æ–°
                { time: "09:30", title: "æ©„æ¬–å…¬åœ’", desc: "é­”å¥³å®…æ€¥ä¾¿æƒå¸šæ‹ç…§", icon: 'nature', navLink: "https://maps.app.goo.gl/2FRV2NFN67UiiF7z5" },
                // é†¬ä¹‹é„‰é€£çµæ›´æ–°
                { time: "11:30", title: "é†¬ä¹‹é„‰", desc: "ä¸¸é‡‘é†¬æ²¹ç´€å¿µé¤¨", icon: 'ice', navLink: "https://maps.app.goo.gl/AGoWGLM66ryZpmx47" },
                // å¤©ä½¿ä¹‹è·¯é€£çµæ›´æ–°
                { time: "14:00", title: "å¤©ä½¿ä¹‹è·¯", desc: "é€€æ½®æ²™ç˜æ•£æ­¥", icon: 'sight', navLink: "https://maps.app.goo.gl/GKXp6L2afkPf11m68" },
                // åœŸåº„æ¸¯ -> é«˜æ¾æ¸¯ é€£çµæ›´æ–°
                { time: "16:00", title: "åœŸåº„æ¸¯ â†’ é«˜æ¾æ¸¯", desc: "æ­èˆ¹å›å¸‚å€", icon: 'boat', navLink: "https://maps.app.goo.gl/hprFCKkvTNSrXRT27" }
            ],
            note: `è‹¥æµ·æ³ä¸ä½³ï¼ŒBè¨ˆç•«æ”¹å»ã€Œæ»¿æ¿ƒå…¬åœ’ã€ã€‚<br><a href="https://maps.app.goo.gl/eeARXireyGCwiDNd9" target="_blank" style="color:red; font-weight:bold; text-decoration:underline;">ğŸ”´ é»æˆ‘é–‹å§‹å°èˆªå»æ»¿æ¿ƒå…¬åœ’</a>`
        },
        3: {
            title: "Day 3ï½œå½ˆæ€§é¸æ“‡æ—¥",
            date: "1/25 (æ—¥)", location: "Takamatsu",
            weather: { temp: "8Â°", status: "é™°/æ™´", detail: "H:8Â° L:1Â°", icon: WEATHER_CLOUD },
            eventsMain: [
                { time: "09:00", title: "é‡‘åˆ€æ¯”ç¾…å®®", desc: "æŒ‘æˆ°1368éšæ¢¯ï¼Œåƒæ‹œç‹—ç‹—ç¥", icon: 'shrine', navLink: "https://maps.app.goo.gl/pksTiU7nz1dW48D8A" },
                { time: "12:30", title: "å±±è¶Šçƒé¾éºµ", desc: "çƒé¾éºµååº—åˆé¤", icon: 'food', navLink: "https://maps.app.goo.gl/4UgroFhDnHTfAA2UA" },
                { time: "14:30", title: "æ»¿æ¿ƒå…¬åœ’", desc: "åœ‹ç‡Ÿå…¬åœ’è³èŠ±æ•£æ­¥", icon: 'sight', navLink: "https://maps.app.goo.gl/ZWPQL29vTGX4pNRN7" },
                // æ™šé¤åˆ†æµ (å…©é–“åˆ†é–‹é¡¯ç¤º)
                { time: "18:00", title: "é»’æ¯›å’Œç‰› ç„¼è‚‰", desc: "æ™šé¤æ¨è–¦ 1", icon: 'dinner', navLink: "https://maps.app.goo.gl/hgZpxDwi5b5kxAqF8" },
                { time: "18:00", title: "éª¨ä»˜é³¥ ä¸€é¶´", desc: "æ™šé¤æ¨è–¦ 2", icon: 'dinner', navLink: "https://maps.app.goo.gl/k8Cm5CoBBGJURUKe8" }
            ],
            eventsBackup: [
                { time: "09:00", title: "å‰å¾€ç”·æœ¨å³¶", desc: "é«˜æ¾æ¸¯æ­èˆ¹å‰å¾€", icon: 'boat', navLink: "https://maps.app.goo.gl/3197KYMnoQUJgDnC9" },
                // è²“å³¶é€£çµæ›´æ–°
                { time: "10:00", title: "ç”·æœ¨å³¶ (è²“å³¶)", desc: "è±ç‰å§¬ç¥ç¤¾ã€æ“¼è²“æ•£æ­¥", icon: 'cat', navLink: "https://maps.app.goo.gl/b2vevyKvApfrHUkJ9" },
                // ç”·æœ¨æ¸¯ -> é«˜æ¾æ¸¯ é€£çµæ›´æ–°
                { time: "13:00", title: "ç”·æœ¨æ¸¯ â†’ é«˜æ¾æ¸¯", desc: "è¿”å›å¸‚å€", icon: 'boat', navLink: "https://maps.app.goo.gl/Soefr2nUzymefXqdA" },
                // å®¤å…§è¡Œç¨‹é€£çµæ›´æ–°
                { time: "15:00", title: "å®¤å…§è¡Œç¨‹", desc: "å•†åº—è¡— / å’–å•¡å»³ä¼‘æ¯", icon: 'coffee', navLink: "https://maps.app.goo.gl/yVYtBP5ktURNsApz7" }
            ],
            note: "æ ¹æ“šç•¶å¤©é«”åŠ›å’Œå¤©æ°£ï¼Œè‡ªç”±åˆ‡æ›ä¸Šæ–¹æŒ‰éˆ•é¸æ“‡è¡Œç¨‹ï¼"
        },
        4: {
            title: "Day 4ï½œå€‰æ•·ä¸€æ—¥éŠ",
            date: "1/26 (ä¸€)", location: "Takamatsu",
            weather: { temp: "9Â°", status: "é™°", detail: "H:9Â° L:1Â°", icon: WEATHER_CLOUD },
            events: [
                // å€‰æ•·å°èˆªæ›´æ–°
                { time: "08:00", title: "å‰å¾€å€‰æ•·", desc: "è‡ªé§•/JR (ç€¨æˆ¶å¤§æ©‹)", icon: 'car', navLink: "https://maps.app.goo.gl/UD5UTPtfrYuWzSUm8" },
                { time: "10:00", title: "å€‰æ•·ç¾è§€åœ°å€", desc: "é‹æ²³éŠèˆ¹ã€å¤è¡—æ•£æ­¥", icon: 'sakura', navLink: "https://maps.app.goo.gl/MCqK6jsAX4tsC22L6" }, 
                // å¤å¸‚çƒé¾éºµé€£çµæ›´æ–°
                { time: "12:00", title: "å¤å¸‚çƒé¾éºµ", desc: "åˆé¤æ¨è–¦", icon: 'noodle', navLink: "https://maps.app.goo.gl/KeZqCFvzyRBpykA16" },
                // èŒ¶å±‹é€£çµæ›´æ–°
                { time: "14:00", title: "èŒ¶å±‹å¤§æ©‹", desc: "æ°´æœè–ä»£ä¸‹åˆèŒ¶", icon: 'ice', navLink: "https://maps.app.goo.gl/krTbwdcA1MFKwRNE7" },
                // è¿”å›é«˜æ¾é€£çµæ›´æ–°
                { time: "17:00", title: "è¿”å›é«˜æ¾", desc: "è»Šç¨‹ç´„ 1.5 - 2 å°æ™‚", icon: 'car', navLink: "https://maps.app.goo.gl/MfBJ7G9tuwuL7tMe6" }
            ],
            note: "è¨˜å¾—ç•™è‚šå­åƒç”œé»ï¼"
        },
        5: {
            title: "Day 5ï½œè¿”ç¨‹æ—¥",
            date: "1/27 (äºŒ)", location: "Takamatsu",
            weather: { temp: "11Â°", status: "é™°", detail: "H:11Â° L:3Â°", icon: WEATHER_CLOUD },
            events: [
                // Day 5 é€£çµæ›´æ–°
                { time: "10:00", title: "é«˜æ¾ä¸­å¤®å•†åº—è¡—", desc: "å…«å¤§æ¢å•†åº—è¡— è‡ªç”±é€›", icon: 'shop', navLink: "https://maps.app.goo.gl/WP9XyWyJuTXSBDYK9" },
                { time: "10:00", title: "ä¸¸é¾œç”º GREEN", desc: "æ™‚å°šè³¼ç‰©å•†å ´", icon: 'shop', navLink: "https://maps.app.goo.gl/1E4zV6mWaijafD2z8" },
                { time: "10:00", title: "æ—¥æœ¬æµ·è±šä¸­å¿ƒ", desc: "Japan Dolphin Center", icon: 'dolphin', navLink: "https://maps.app.goo.gl/6QjK2USV3688jXuT6" },
                { time: "10:00", title: "å››åœ‹æ°´æ—é¤¨", desc: "æ–°æ™¯é»æ¨è–¦", icon: 'fish', navLink: "https://maps.app.goo.gl/NFAziUMgPVTiQaUG8" },
                // Toyota é‚„è»Šé€£çµæ›´æ–°
                { time: "14:30", title: "é‚„è»Š (Toyota ç©ºæ¸¯åº—)", desc: "åŠ æ²¹ã€é‚„è»Š", icon: 'car', navLink: "https://maps.app.goo.gl/nuF1de38tVXAUcE97" },
                { time: "18:55", title: "CI179 èµ·é£›è¿”å°", desc: "Bye Bye!", icon: 'plane', noNav: true }
            ],
            note: "HPè—¥æ°´å·²è€—ç›¡ï¼Œå¯µç‰©å°‡ç¦æ­¢æ‚¨æ˜æ—¥ä¸Šç­ä¸Šèª²"
        }
    };

    let currentDay3Mode = 'main';

    function loadDay(day) {
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        
        const snowContainer = document.getElementById('snowContainer');
        const footerBar = document.getElementById('footerBar');

        if (typeof day === 'number') {
            document.querySelectorAll('.tab-btn')[day - 1].classList.add('active');
            renderSchedule(day);
            snowContainer.style.display = 'none';
            updateExp(day);
        } else {
            document.querySelectorAll('.tab-btn')[5].classList.add('active');
            renderInfo();
            snowContainer.style.display = 'block';
            createSnow();
            footerBar.innerHTML = `<div class="guild-marquee">[å»£æ’­] on9ayæ‹›ç”Ÿä¸­</div>`;
        }
    }

    function renderSchedule(day) {
        const data = itinerary[day];
        const content = document.getElementById('mainContent');
        const w = data.weather;

        let html = `
            <div class="weather-panel">
                <div class="weather-left">
                    <div class="weather-loc">ğŸ“ ${data.location}</div>
                    <div class="weather-status">${w.status}</div>
                    <div class="weather-detail">${w.detail}</div>
                </div>
                <div class="weather-right">
                    <img src="${w.icon}" class="weather-icon-img" alt="weather">
                    <span class="weather-temp">${w.temp}</span>
                </div>
            </div>

            <h2 style="margin:0 0 15px 0; color:#3E2723; border-bottom:2px dashed #AAA; padding-bottom:5px;">
                ${data.title}
            </h2>
        `;

        if (day === 3) {
            html += `
                <div class="sub-nav-container">
                    <button class="sub-nav-btn ${currentDay3Mode==='main'?'active-main':''}" onclick="switchDay3('main')">â˜€ ä¸»ç·šï¼šçˆ¬å±±</button>
                    <button class="sub-nav-btn ${currentDay3Mode==='backup'?'active-backup':''}" onclick="switchDay3('backup')">â˜” å‚™æ¡ˆï¼šçœ‹è²“</button>
                </div>
                <div id="day3ListContainer"></div>
            `;
            setTimeout(() => renderDay3List(), 0);
        } else {
            html += generateListHtml(data.events);
        }

        if(data.note) {
            html += `<div class="npc-dialog">${data.note}</div>`;
        }

        content.innerHTML = html;
        window.scrollTo(0,0);
    }

    function generateListHtml(events) {
        let listHtml = `<ul class="quest-list">`;
        events.forEach(event => {
            
            let iconSrc = ICONS['sight']; 
            if (event.icon && ICONS[event.icon]) {
                iconSrc = ICONS[event.icon];
            }

            let btnsHtml = '';
            if (!event.noNav) {
                // åªä¿ç•™å°èˆªæŒ‰éˆ• (å›å®¶å·è»¸)
                let navLink = event.navLink;
                if(navLink) {
                    btnsHtml = `
                        <div class="action-btns">
                            <a href="${navLink}" target="_blank" class="btn btn-nav">
                                <img src="${ICONS.nav}" style="width:20px; vertical-align:middle; margin-right:5px;">
                                å°èˆª GO
                            </a>
                        </div>
                    `;
                }
            }

            listHtml += `
                <li class="quest-item">
                    <div class="quest-header">
                        <span class="quest-time">${event.time}</span>
                        <span class="quest-title">
                            ${event.title} 
                            <img src="${iconSrc}" class="plane-icon" alt="icon">
                        </span>
                    </div>
                    <div class="quest-desc">${event.desc}</div>
                    ${btnsHtml}
                </li>
            `;
        });
        listHtml += `</ul>`;
        return listHtml;
    }

    function switchDay3(mode) {
        currentDay3Mode = mode;
        const btns = document.querySelectorAll('.sub-nav-btn');
        btns[0].className = `sub-nav-btn ${mode==='main'?'active-main':''}`;
        btns[1].className = `sub-nav-btn ${mode==='backup'?'active-backup':''}`;
        renderDay3List();
    }

    function renderDay3List() {
        const container = document.getElementById('day3ListContainer');
        if(!container) return;
        const events = currentDay3Mode === 'main' ? itinerary[3].eventsMain : itinerary[3].eventsBackup;
        container.innerHTML = generateListHtml(events);
    }

    function renderInfo() {
        document.getElementById('mainContent').innerHTML = `
            
            <div class="papulatus-wrapper">
                <div class="haidilao-text">æµ·åº•æ’ˆæœˆ</div>
                <img src="https://maplestory.io/api/gms/62/mob/8500001/render/move?center=true" class="papulatus-img" alt="papulatus">
                <img src="${CHAOS_SCROLL}" class="drop-item drop-1" title="æ··æ²Œå·è»¸">
                <img src="${ZAKUM_HELM}" class="drop-item drop-2" title="ç‚é­”é ­ç›”">
                <img src="${ILBI_STAR}" class="drop-item drop-3" title="æ—¥ä¹‹é¢">
            </div>

            <div class="chat-log">
                <div class="chat-line">coward[é »é“228]:å››åœ‹é€£5 ç¼º1å¥³é¢è³Š ç›´æ¥ä¾† å…ˆåˆ°å…ˆæ‰“ è«‹è‡ªå‚™1 NB 1 VPN</div>
                <div class="chat-guild">[å…¬æœƒè³‡è¨Šå·²æ›´æ–°]</div>
                <div class="chat-line">beautyYang[é »é“6789]:sp4</div>
                <div class="chat-line">LebronDogs[é »é“87]:ã„</div>
                <div class="chat-line">camelCase[é »é“144]:CCCCCC</div>
                <div class="chat-line">Mei[é »é“101]:101 é˜¿é–€</div>
            </div>

            <div style="text-align:center; padding-top:10px;">
                <h2>ğŸ  FAV HOTEL TAKAMATSU</h2>
                <a href="https://www.google.com/maps/search/?api=1&query=FAV+HOTEL+TAKAMATSU" target="_blank" class="btn btn-hotel">
                    <img src="${ICONS.nav}" style="width:24px; vertical-align:middle; margin-right:5px;">
                    å°èˆªå»é£¯åº—
                </a>
            </div>
        `;
    }

    function updateExp(day) {
        const footerBar = document.getElementById('footerBar');
        if(!footerBar) return;
        let pct = Math.round((day / 5) * 100);
        footerBar.innerHTML = `
            <span style="color:#FFCC00; font-weight:900; margin-right:10px;">EXP</span>
            <div class="exp-track"><div class="exp-fill" style="width:${pct}%"></div></div>
            <span class="exp-text">${pct}% (Lv.2026)</span>
        `;
    }

    function createSnow() {
        const container = document.getElementById('snowContainer');
        container.innerHTML = '';
        for(let i=0; i<30; i++) {
            const snow = document.createElement('div');
            snow.className = 'snowflake';
            snow.innerText = 'â„';
            snow.style.left = Math.random() * 100 + 'vw';
            snow.style.animationDuration = Math.random() * 3 + 2 + 's';
            snow.style.fontSize = Math.random() * 10 + 10 + 'px';
            container.appendChild(snow);
        }
    }

    loadDay(1);
</script>

</body>
</html>
